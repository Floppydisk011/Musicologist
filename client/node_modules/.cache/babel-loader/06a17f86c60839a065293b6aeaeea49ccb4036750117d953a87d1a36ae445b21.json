{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\flopp\\\\Desktop\\\\musicologist\\\\client\\\\src\\\\components\\\\results.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport './results.css';\nimport CardNew from './card_new';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Results() {\n  _s();\n  const params = useParams();\n  const [data, setData] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [searchText, setSearchText] = useState('');\n  let p = params.searchID;\n  let length = data.length;\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const dat = JSON.stringify(params);\n        const parsedData = JSON.parse(dat);\n        const searchName = parsedData.searchID;\n        console.log(\"Search Name: \", searchName);\n        const response = await fetch(`/api/search/${searchName}`);\n        if (response.status === 500) {\n          throw new Error(\"Fetching data failed\");\n        }\n        const JSONData = await response.json();\n        setData(JSONData.data.oggetti);\n        if (JSONData.data.oggetti.length === 0) {\n          setLoading(false);\n          return;\n        }\n        setLoading(false);\n      } catch (err) {\n        console.log(\"Error: \", err);\n        setLoading(false);\n      }\n    }\n    fetchData();\n  }, []);\n  const handleChange = e => {\n    setSearchText(e.target.value);\n  };\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    const searchName = e.target.value;\n    const response = await fetch(`/api/search/${searchName}`);\n    if (response.status === 500) {\n      throw new Error(\"Fetching data failed\");\n    }\n    const JSONData = await response.json();\n    setData(JSONData.data.oggetti);\n    setLoading(false);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"resultsContainer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"resultPage\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"resultString\",\n        children: [\"Results for \", /*#__PURE__*/_jsxDEV(\"em\", {\n          children: [\"\\\"\", p, \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Showing \", length, \" results.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card_container\",\n        children: data ? data.map(item => /*#__PURE__*/_jsxDEV(CardNew, {\n          id: item.id,\n          title: item.name,\n          price: item.price,\n          description: item.desc,\n          immagine: `data:image/jpeg;base64, ${item.picture}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 29\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"noResults\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"No products found for \\\"\", p, \"\\\"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n_s(Results, \"jaRuFEX6lx3P1042dN9GWGkTJWk=\", false, function () {\n  return [useParams];\n});\n_c = Results;\nexport default Results;\nvar _c;\n$RefreshReg$(_c, \"Results\");","map":{"version":3,"names":["React","useState","useEffect","useParams","CardNew","jsxDEV","_jsxDEV","Results","_s","params","data","setData","loading","setLoading","searchText","setSearchText","p","searchID","length","fetchData","dat","JSON","stringify","parsedData","parse","searchName","console","log","response","fetch","status","Error","JSONData","json","oggetti","err","handleChange","e","target","value","handleSubmit","preventDefault","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","item","id","title","name","price","description","desc","immagine","picture","_c","$RefreshReg$"],"sources":["C:/Users/flopp/Desktop/musicologist/client/src/components/results.js"],"sourcesContent":[" \nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom'; \nimport './results.css';\nimport CardNew from './card_new';\n\n\nfunction Results(){\n    const params = useParams()\n    const [data,setData] = useState('')\n    const [loading, setLoading] = useState(true)\n    const [searchText, setSearchText] = useState('');\n    let p = params.searchID\n    let length = data.length\n\n\n    useEffect(() => {\n        async function fetchData() {\n            try{\n\n                const dat = JSON.stringify(params)\n                const parsedData = JSON.parse(dat)\n                const searchName = parsedData.searchID\n                console.log(\"Search Name: \", searchName)\n                const response = await fetch(`/api/search/${searchName}`)\n                if (response.status === 500) {\n                    throw new Error(\"Fetching data failed\");\n                }\n\n                const JSONData = await response.json();\n                setData(JSONData.data.oggetti);\n                if (JSONData.data.oggetti.length === 0) {\n                    setLoading(false);\n                    return;\n                }\n                setLoading(false);\n            \n            }catch(err){\n                console.log(\"Error: \", err)\n                setLoading(false)\n            }\n        }\n\n        fetchData()\n        \n    },[])\n\n    const handleChange = (e) => {\n        setSearchText(e.target.value)\n    }\n\n    async function handleSubmit(e){\n        e.preventDefault()\n        setLoading(true)\n        const searchName = e.target.value\n        const response = await fetch(`/api/search/${searchName}`)\n        if (response.status === 500) {\n            throw new Error(\"Fetching data failed\");\n        }\n\n        const JSONData = await response.json();\n        setData(JSONData.data.oggetti)\n        setLoading(false)\n    }\n\n    return(\n        <div className=\"resultsContainer\">\n            <div className=\"resultPage\">\n                <div className=\"resultString\">\n                    Results for <em>\"{p}\"</em>\n                    <p>Showing {length} results.</p>\n                </div>\n                <div className=\"card_container\">\n                {data ? (\n                        data.map(item => (\n                            <CardNew \n                            id={item.id}\n                            title={item.name}\n                            price={item.price}\n                            description={item.desc} \n                            immagine={`data:image/jpeg;base64, ${item.picture}`}\n                            />\n                        ))\n                    ):(\n                        <div className=\"noResults\">\n                            <p>No products found for \"{p}\"</p>\n                            </div>\n                        )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Results;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}